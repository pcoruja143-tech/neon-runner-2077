<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon Runner 2077 - OS v18.2 COMPLETE</title>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <style>
        :root { --neon-green: #00ff00; --neon-blue: #00ffff; --neon-pink: #ff00ff; --dark-bg: #0d0d0d; --stamina-yellow: #ffff00; --mission-orange: #ff8800; }
        body { font-family: 'Share Tech Mono', monospace; background-color: #000; color: var(--neon-green); margin: 0; padding: 10px; display: flex; justify-content: center; }
        #game-container { width: 100%; max-width: 500px; background-color: var(--dark-bg); border: 2px solid var(--neon-green); border-radius: 25px; padding: 25px; position: relative; min-height: 90vh; box-sizing: border-box; }
        .hidden { display: none !important; }
        
        /* HEADER */
        .player-info { display: flex; justify-content: space-between; margin-bottom: 5px; }
        .p-name { color: var(--neon-pink); font-size: 2.1em; font-weight: bold; }
        .p-level-val { color: var(--neon-green); font-size: 3.5em; font-weight: bold; line-height: 0.8; }
        
        /* BARS */
        .bar-bg { width: 100%; height: 9px; background: #222; border-radius: 5px; margin-bottom: 3px; border: 1px solid #333; overflow: hidden; }
        .xp-fill { height: 100%; background: var(--neon-blue); width: 0%; transition: 0.5s; }
        .stamina-fill { height: 100%; background: var(--stamina-yellow); width: 0%; transition: 0.5s; }

        /* BUTTONS */
        .menu-btn { background: #1a1a1a; color: #fff; border: none; border-left: 5px solid var(--neon-blue); padding: 15px; display: flex; justify-content: space-between; font-family: inherit; width: 100%; margin-bottom: 8px; cursor: pointer; font-size: 0.9em; }
        .menu-btn:hover { background: #333; }
        .m-btn { background: var(--mission-orange); color: #000; border: none; width: 100%; padding: 12px; font-family: inherit; font-weight: bold; cursor: pointer; border-radius: 5px; margin-top: 10px; }
        
        /* AUTH TELA */
        .auth-input { width: 100%; padding: 15px; background: #000; border: 1px solid var(--neon-blue); color: #fff; margin-bottom: 10px; font-family: inherit; box-sizing: border-box; border-radius: 5px; }

        /* MODAL */
        #modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 100; display: none; padding: 20px; box-sizing: border-box; }
        .modal-content { border: 1px solid var(--neon-green); padding: 20px; background: #000; border-radius: 10px; height: 80vh; overflow-y: auto; }
    </style>
</head>
<body>

<div id="game-container">
    <div id="login-screen">
        <h2 style="text-align:center; color:var(--neon-blue)">NETWORK LOGIN</h2>
        <input type="text" id="log-name" class="auth-input" placeholder="NICKNAME (EX: EMERSON)">
        <input type="password" id="log-pass" class="auth-input" placeholder="SENHA">
        <button class="m-btn" style="background:var(--neon-green)" onclick="login()">SYNC NEURAL LINK</button>
    </div>

    <div id="main-menu" class="hidden">
        <div class="player-info">
            <div>
                <div class="p-name" id="ui-name">---</div>
                <div id="ui-equip" style="color:var(--neon-blue); font-size:0.7em; margin-bottom:5px;">EQUIP: ---</div>
                <div style="width: 180px;">
                    <div class="bar-bg"><div id="p-xp" class="xp-fill"></div></div>
                    <div class="bar-bg"><div id="p-stamina" class="stamina-fill"></div></div>
                </div>
            </div>
            <div class="p-level-box"><span style="font-size:0.6em; color:var(--neon-blue)">N√çVEL</span><br><span class="p-level-val" id="p-lv">0</span></div>
        </div>

        <div style="display:flex; justify-content:space-between; margin:15px 0; background:#111; padding:10px; border-radius:10px;">
            <span>üí∞ <span id="p-cr">0</span></span>
            <span style="color:var(--neon-pink)">‚ù§Ô∏è <span id="p-hp">0</span> HP</span>
            <span style="color:var(--stamina-yellow)">‚ö° <span id="p-st-text">0</span></span>
        </div>

        <button class="menu-btn" onclick="openModule('missao')">Contratos Ativos <span style="color:var(--mission-orange)">[MISSAO]</span></button>
        <button class="menu-btn" onclick="openModule('bestiario')">Besti√°rio de Glitch <span style="color:var(--neon-green)">[HUNT]</span></button>
        <button class="menu-btn" onclick="openModule('loja')">Mercado Negro <span style="color:var(--neon-blue)">[SHOP]</span></button>
        <button class="menu-btn" onclick="openModule('habilidades')">Neural Skills <span style="color:var(--neon-pink)">[SKILLS]</span></button>
        <button class="menu-btn" onclick="openModule('inventario')">Invent√°rio <span style="color:#888">[ITEMS]</span></button>
        <button class="menu-btn" onclick="showRank()">Ranking Global <span style="color:#666">[RANK]</span></button>
        
        <button class="m-btn" style="background:#400; color:#fff;" onclick="location.reload()">TERMINATE SESSION</button>
    </div>
</div>

<div id="modal-overlay">
    <div class="modal-content">
        <div id="modal-body"></div>
        <button class="m-btn" onclick="closeModule()">VOLTAR AO MENU</button>
    </div>
</div>

<script>
    const firebaseConfig = {
      apiKey: "AIzaSyCp-Vg-YkLQc9B2pk8i-fUoX5-WAtyoviY",
      authDomain: "neonrunner-6ca46.firebaseapp.com",
      databaseURL: "https://neonrunner-6ca46-default-rtdb.firebaseio.com",
      projectId: "neonrunner-6ca46",
      storageBucket: "neonrunner-6ca46.firebasestorage.app",
      messagingSenderId: "711994836030",
      appId: "1:711994836030:web:ebf218f0708fd600113d6f"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    let player = {};

    function login() {
        const n = document.getElementById('log-name').value.toUpperCase();
        const p = document.getElementById('log-pass').value;
        db.ref('players/' + n).once('value', s => {
            if(s.val() && s.val().password === p) {
                player = s.val();
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('main-menu').classList.remove('hidden');
                updateUI();
            } else { alert("ACESSO NEGADO."); }
        });
    }

    function updateUI() {
        document.getElementById('ui-name').textContent = player.name;
        document.getElementById('ui-equip').textContent = "EQUIP: " + (player.equiped || "NADA");
        document.getElementById('p-lv').textContent = player.level;
        document.getElementById('p-cr').textContent = player.credits;
        document.getElementById('p-hp').textContent = player.hp;
        document.getElementById('p-st-text').textContent = player.stamina;
        document.getElementById('p-stamina').style.width = player.stamina + "%";
        document.getElementById('p-xp').style.width = (player.xp / player.nextLevelXp * 100) + "%";
    }

    function openModule(type) {
        let content = "";
        if(type === 'bestiario') content = "<h3>BESTI√ÅRIO</h3><p>Glitches Detectados: " + (player.kills || 0) + "</p><button class='m-btn' onclick='hunt()'>CA√áAR GLITCH (-15‚ö°)</button>";
        if(type === 'loja') content = "<h3>MERCADO NEGRO</h3><p>Katana Neon: 500 CR</p><button class='m-btn' onclick='buy(\"Katana Neon\", 500)'>COMPRAR</button>";
        
        document.getElementById('modal-body').innerHTML = content;
        document.getElementById('modal-overlay').style.display = 'block';
    }

    function hunt() {
        if(player.stamina >= 15) {
            player.stamina -= 15; player.xp += 30; player.kills = (player.kills || 0) + 1;
            save(); closeModule();
        } else { alert("STAMINA INSUFICIENTE"); }
    }

    function buy(item, price) {
        if(player.credits >= price) {
            player.credits -= price; player.equiped = item;
            save(); closeModule();
        } else { alert("CR√âDITOS INSUFICIENTES"); }
    }

    function save() { db.ref('players/' + player.name).update(player); updateUI(); }
    function closeModule() { document.getElementById('modal-overlay').style.display = 'none'; }
    
    function showRank() {
        db.ref('players').orderByChild('level').limitToLast(5).once('value', s => {
            let rank = "TOP RUNNERS:\n";
            s.forEach(c => { rank += `${c.val().name} - NV ${c.val().level}\n`; });
            alert(rank);
        });
    }
</script>
</body>
</html>